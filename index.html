<!doctype html>
<html lang="pl">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>QuizoPolsce — Sprawdź wiedzę o Polsce</title>
<meta name="theme-color" content="#051028">
<style>
:root{
  --bg1:#071025; --card:#0b1220; --text:#e6f7ff; --muted:#9fb6d6;
  --neon1:#00f0ff; --neon2:#ff3fc4; --good:#16d36a; --bad:#ff5c6c;
  --accent:#ffd27a; --radius:14px;
}
*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:Inter,system-ui,Roboto,Arial}
body{
  background:linear-gradient(180deg,var(--bg1),#051028 80%);
  color:var(--text); display:flex;align-items:center;justify-content:center;padding:20px;
}
.page{width:100%;max-width:920px}
.ad-top,.ad-mid,.ad-final{
  background:#000;color:white;display:flex;align-items:center;justify-content:center;margin-bottom:12px;
  border-radius:12px; padding:8px; text-align:center; height:120px;
}
.card{
  background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border-radius:var(--radius); padding:22px;
  box-shadow:0 10px 40px rgba(0,0,0,0.6);
}
.top{display:flex;justify-content:space-between;gap:12px;margin-bottom:14px}
.title{font-weight:800;color:var(--neon1)}
.question{font-size:1.4rem;text-align:center;margin:10px 0}
.answers{display:grid;grid-template-columns:1fr 1fr;gap:10px}
@media(max-width:700px){.answers{grid-template-columns:1fr}}
.btn{
  padding:12px;border-radius:12px;font-weight:800;cursor:pointer;
  background:linear-gradient(90deg,var(--neon1),var(--neon2));
  color:white;text-align:center;
}
.btn.good{background:linear-gradient(90deg,var(--good),#8df3b0)}
.btn.bad{background:linear-gradient(90deg,var(--bad),#ff8a94)}
.meta{display:flex;justify-content:space-between;color:var(--muted);margin-top:10px}
#final{
  position:fixed;inset:0;display:none;align-items:center;justify-content:center;
  background:rgba(0,0,0,0.85);z-index:999;
}
#final-card{
  background:#081322;padding:28px;border-radius:14px;text-align:center;width:95%;max-width:520px;
}
canvas{position:fixed;inset:0;pointer-events:none;z-index:998}
</style>
</head>
<body>

<canvas id="fx"></canvas>

<div class="page">

  <!-- REKLAMA GÓRA -->
  <div class="ad-top" id="adTop"></div>

  <div class="card">
    <div class="top">
      <div class="title">QuizoPolsce — Sprawdź wiedzę o Polsce</div>
      <div>Punkty: <span id="points">0</span></div>
    </div>

    <div id="question" class="question"></div>
    <div id="answers" class="answers"></div>

    <!-- REKLAMA PO 7 PYTANIU -->
    <div class="ad-mid" id="adMid" style="display:none"></div>

    <div class="meta">
      <div id="progress"></div>
      <div>Miejsca reklamowe gotowe</div>
    </div>
  </div>
</div>

<!-- WYNIK -->
<div id="final">
  <div id="final-card">
    <h2>Twój wynik</h2>
    <div id="final-text" style="font-size:2rem;margin:10px 0">0 pkt</div>

    <!-- REKLAMA PRZED WYNIKIEM -->
    <div class="ad-final" id="adFinal"></div>

    <div class="btn" id="retryBtn" style="margin-top:12px">Zagraj ponownie</div>
  </div>
</div>

<audio id="bg" loop src="sounds/background.mp3"></audio>
<audio id="snd-ding" src="sounds/ding.mp3"></audio>
<audio id="snd-buzzer" src="sounds/buzzer.mp3"></audio>

<script>
const $=id=>document.getElementById(id);
const qEl=$('question'), aEl=$('answers'), pEl=$('points'),
      prog=$('progress'), final=$('final'), fText=$('final-text');
const adTop=$('adTop'), adMid=$('adMid'), adFinal=$('adFinal');

const QUESTIONS=[
 {q:"Stolica Polski?",a:["Warszawa","Kraków","Gdańsk","Wrocław"],c:0},
 {q:"Największy port?",a:["Gdańsk","Gdynia","Szczecin","Hel"],c:0},
 {q:"Najdłuższa rzeka?",a:["Wisła","Odra","Bug","Warta"],c:0},
 {q:"Najwyższy szczyt?",a:["Rysy","Giewont","Babia","Śnieżka"],c:0},
 {q:"Rok niepodległości?",a:["1918","1939","1945","1920"],c:0},
 {q:"Hymn Polski?",a:["Mazurek","Rota","Bogurodzica","Gaude"],c:0},
 {q:"Nobel z chemii?",a:["Skłodowska","Banach","Czochralski","Kopernik"],c:0},
 {q:"Największe miasto?",a:["Warszawa","Łódź","Kraków","Poznań"],c:0},
 {q:"Polski król?",a:["Chrobry","Jagiełło","Waza","Leszczyński"],c:0}
];

let i=0, pts=0;
let midLoaded=false, finalLoaded=false;

// TOP – ładuje się od razu
(function(){
 const s=document.createElement('script');
 s.src='https://nap5k.com/tag.min.js';
 s.dataset.zone='10310917';
 s.async=true;
 adTop.appendChild(s);
})();

function loadMid(){
 if(midLoaded) return;
 midLoaded=true;
 const s=document.createElement('script');
 s.src='https://nap5k.com/tag.min.js';
 s.dataset.zone='10310895';
 s.async=true;
 adMid.appendChild(s);
}

function loadFinal(){
 if(finalLoaded) return;
 finalLoaded=true;
 const s=document.createElement('script');
 s.src='https://nap5k.com/tag.min.js';
 s.dataset.zone='10302772';
 s.async=true;
 adFinal.appendChild(s);
}

function show(){
 if(i===7){
   adTop.style.display='none';
   adMid.style.display='flex';
   loadMid();
   qEl.textContent="Reklama…";
   aEl.innerHTML="";
   setTimeout(()=>{adMid.style.display='none';i++;show();},12000);
   return;
 }

 if(i>=QUESTIONS.length){
   adTop.style.display='none';
   adFinal.style.display='flex';
   loadFinal();
   setTimeout(()=>{adFinal.style.display='none';finish();},12000);
   return;
 }

 const q=QUESTIONS[i];
 qEl.textContent=q.q;
 aEl.innerHTML="";
 q.a.forEach((t,idx)=>{
   const b=document.createElement('div');
   b.className='btn';
   b.textContent=t;
   b.onclick=()=>{
     if(idx===q.c){pts++;b.classList.add('good')}
     else b.classList.add('bad');
     pEl.textContent=pts;
     i++;setTimeout(show,400);
   };
   aEl.appendChild(b);
 });
 prog.textContent=`Pytanie ${i+1}/${QUESTIONS.length}`;
}

function finish(){
 fText.textContent=pts+" pkt";
 final.style.display='flex';
}

$('retryBtn').onclick=()=>{
 i=0;pts=0;pEl.textContent=0;
 final.style.display='none';
 show();
};

show();
</script>
</body>
</html>
