<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>QuizoPolsce — Sprawdź wiedzę o Polsce</title>
<meta name="theme-color" content="#051028">
<style>
:root {
  --neon1: #ff3fc4; --neon2: #00f0ff; --bg: #051028; --text: #fff;
}
body {margin:0;padding:0;font-family:sans-serif;background:var(--bg);color:var(--text);}
.page {max-width:600px;margin:auto;padding:12px;}
.card {background:#111228;padding:16px;border-radius:12px;box-shadow:0 0 12px #000;}
.btn {margin:4px 0;padding:8px;border:none;border-radius:8px;width:100%;cursor:pointer;font-size:16px;}
.btn.good {background:#16d36a;color:#000;}
.btn.bad {background:#ff5c6c;color:#000;}
.ad-top,.ad-bottom,.ad-mid,.ad-final {margin:8px 0;min-height:50px;background:#222;color:#aaa;display:flex;align-items:center;justify-content:center;}
#final {display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.9);color:#fff;display:flex;align-items:center;justify-content:center;flex-direction:column;}
</style>
</head>
<body>

<div class="page">

  <!-- AD TOP -->
  <div class="ad-top" id="adTop" data-zone="10241819">ładowanie reklamy...</div>
  <script>
  if('serviceWorker' in navigator){navigator.serviceWorker.register('/sw.js').then(()=>console.log("Service Worker Monetag zarejestrowany"));}
  (function(s){s.dataset.zone='10241819';s.src='https://groleegni.net/vignette.min.js'})([document.documentElement,document.body].filter(Boolean).pop().appendChild(document.createElement('script')));
  </script>

  <!-- QUIZ CARD -->
  <div class="card" id="quizCard">
    <div class="top">
      <div style="display:flex;flex-direction:column;gap:8px;">
        <div class="title">QuizoPolsce — Sprawdź wiedzę o Polsce</div>
        <input id="nick" placeholder="Nick gracza" aria-label="Nick gracza" />
      </div>
      <div class="score">Punkty: <span id="points">0</span></div>
    </div>

    <div id="question" class="question">Ładowanie...</div>
    <div id="answers" class="answers"></div>

    <!-- AD MID (po 7 pytaniu) -->
    <div class="ad-mid" id="adMid" data-zone="10241826" style="display:none;">ładowanie reklamy...</div>
    <script>
    (function(s){s.dataset.zone='10241826';s.src='https://groleegni.net/vignette.min.js'})([document.documentElement,document.body].filter(Boolean).pop().appendChild(document.createElement('script')));
    </script>

    <div id="progress">Pytanie 0/0</div>
  </div>

  <!-- AD BOTTOM -->
  <div class="ad-bottom" id="adBottom" data-zone="10241836">ładowanie reklamy...</div>
  <script>
  (function(s){s.dataset.zone='10241836';s.src='https://groleegni.net/vignette.min.js'})([document.documentElement,document.body].filter(Boolean).pop().appendChild(document.createElement('script')));
  </script>

</div>

<!-- FINAL -->
<div id="final">
  <div id="final-card">
    <h1 style="margin:6px 0 8px; color:var(--neon2)">Twój wynik</h1>
    <div id="final-text">0 pkt</div>

    <!-- AD FINAL -->
    <div class="ad-final" id="adFinal" data-zone="10241843">ładowanie reklamy...</div>
    <script>
    (function(s){s.dataset.zone='10241843';s.src='https://groleegni.net/vignette.min.js'})([document.documentElement,document.body].filter(Boolean).pop().appendChild(document.createElement('script')));
    </script>

    <button id="retryBtn" class="btn">Spróbuj jeszcze raz</button>
  </div>
</div>

<script>
const $ = id=>document.getElementById(id);
let points=0,current=0;
const QUESTIONS=[
  {q:"Stolica Polski?", a:["Warszawa","Kraków","Gdańsk","Poznań"], correct:0},
  {q:"Największe jezioro w Polsce?", a:["Śniardwy","Mamry","Hańcza","Niegocin"], correct:0},
  {q:"Polska flaga ma kolory?", a:["Biało-czerwone","Czerwono-białe","Biało-niebieskie","Zielono-białe"], correct:0},
  {q:"Najwyższy szczyt Polski?", a:["Rysy","Śnieżka","Giewont","Babia Góra"], correct:0},
  {q:"Waluta Polski?", a:["PLN","EUR","USD","GBP"], correct:0},
  {q:"Polski król w 1569?", a:["Zygmunt II August","Kazimierz Wielki","Władysław Jagiełło","Jan III Sobieski"], correct:0},
  {q:"Symbol Polski?", a:["Orzeł biały","Orzeł czarny","Orzeł czerwony","Orzeł złoty"], correct:0},
  {q:"Polski hymn?", a:["Mazurek Dąbrowskiego","Bogurodzica","Rotunda","Hejnał"], correct:0},
  {q:"Ile województw w Polsce?", a:["16","12","14","18"], correct:0},
  {q:"Najdłuższa rzeka?", a:["Wisła","Odra","Warta","Bug"], correct:0},
  {q:"Polski prezydent 2025?", a:["Andrzej Duda","Bronisław Komorowski","Lech Wałęsa","Rafał Trzaskowski"], correct:0},
  {q:"Symbol miasta Gdańsk?", a:["Neptun","Syrenka","Żuraw","Motława"], correct:0},
  {q:"Narodowy sport?", a:["Piłka nożna","Siatkówka","Skoki narciarskie","Żużel"], correct:0},
  {q:"Tradycyjna potrawa?", a:["Pierogi","Bigos","Schabowy","Barszcz"], correct:0},
  {q:"Największe miasto w Polsce?", a:["Warszawa","Kraków","Łódź","Wrocław"], correct:0}
];
let sessionQuestions = QUESTIONS.map((q,i)=>({q,i})).sort(()=>Math.random()-0.5).slice(0,14).map(o=>o.i);

function showQuestion(){
  if(current===7){
    $('adTop').style.display=$('adBottom').style.display='none';
    $('adMid').style.display='flex';
    $('question').textContent="Oglądaj reklamę, aby kontynuować"; 
    $('answers').innerHTML='';
    setTimeout(()=>{ $('adMid').style.display='none'; current++; showQuestion(); },15000); 
    return;
  }
  if(current>=sessionQuestions.length){
    $('adTop').style.display=$('adBottom').style.display=$('adMid').style.display='none';
    $('adFinal').style.display='flex';
    $('question').textContent="Oglądaj reklamę, aby zobaczyć wynik"; 
    $('answers').innerHTML='';
    setTimeout(()=>{ $('adFinal').style.display='none'; finishQuiz(); },15000); 
    return;
  }
  $('adTop').style.display=$('adBottom').style.display='flex';
  $('adMid').style.display=$('adFinal').style.display='none';
  const idx=sessionQuestions[current], q=QUESTIONS[idx];
  $('question').textContent=q.q;
  $('answers').innerHTML='';
  q.a.map((ans,i)=>({ans,i})).sort(()=>Math.random()-0.5).forEach(obj=>{
    const b=document.createElement('div');
    b.className='btn';
    b.textContent=obj.ans;
    b.onclick=()=>answer(obj.i,b,idx);
    $('answers').appendChild(b);
  });
  $('progress').textContent=`Pytanie ${current+1}/${sessionQuestions.length}`;
}

function answer(idxAnswer,btn,questionIndex){
  const correct=QUESTIONS[questionIndex].correct;
  if(idxAnswer===correct){ btn.classList.add('good'); points++; }
  else{ btn.classList.add('bad'); }
  $('points').textContent=points;
  current++;
  setTimeout(showQuestion,400);
}

function finishQuiz(){ $('final-text').textContent=`${points} pkt`; $('final').style.display='flex'; }

$('retryBtn').onclick=()=>{ points=0; current=0; $('points').textContent='0'; sessionQuestions = QUESTIONS.map((q,i)=>({q,i})).sort(()=>Math.random()-0.5).slice(0,14).map(o=>o.i); $('final').style.display='none'; showQuestion(); };

showQuestion();
</script>

</body>
</html>
