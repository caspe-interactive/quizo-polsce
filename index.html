<!doctype html>
<html lang="pl">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>QuizoPolsce — Sprawdź wiedzę o Polsce</title>
<meta name="theme-color" content="#051028">
<style>
/* === TWÓJ CSS (bez zmian) === */
:root{--bg1:#071025;--card:#0b1220;--text:#e6f7ff;--muted:#9fb6d6;--neon1:#00f0ff;--neon2:#ff3fc4;--good:#16d36a;--bad:#ff5c6c;--accent:#ffd27a;--radius:14px}
*{box-sizing:border-box}html,body{height:100%;margin:0;font-family:Inter,system-ui,Roboto,Arial}
body{background:linear-gradient(180deg,var(--bg1),#051028 80%);color:var(--text);display:flex;align-items:center;justify-content:center;padding:20px}
.page{width:100%;max-width:920px}
.ad-top,.ad-bottom,.ad-mid,.ad-final{background:#000;color:white;display:flex;align-items:center;justify-content:center;margin-bottom:12px;border-radius:12px;padding:8px;text-align:center;height:120px;position:relative}
.ad-status{position:absolute;top:4px;right:8px;font-size:0.8rem;color:#ffd27a}
.card{background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));border-radius:var(--radius);padding:22px;box-shadow:0 10px 40px rgba(0,0,0,0.6);border:1px solid rgba(0,255,255,0.04)}
.top{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:14px}
.title{font-weight:800;color:var(--neon1);letter-spacing:0.6px}
.score{display:none;color:var(--accent)}
.question{font-size:1.4rem;text-align:center;margin:8px 0 14px;color:var(--text)}
.answers{display:grid;grid-template-columns:1fr 1fr;gap:10px}
@media(max-width:700px){.answers{grid-template-columns:1fr}.question{font-size:1.08rem}}
.btn{display:flex;align-items:center;justify-content:center;padding:12px;border-radius:12px;cursor:pointer;user-select:none;font-weight:800;color:white;font-size:0.98rem;min-height:52px;transition:transform .12s ease,box-shadow .12s ease,opacity .12s;background:linear-gradient(90deg,var(--neon1),var(--neon2));box-shadow:0 10px 40px rgba(0,240,255,0.04),0 0 20px rgba(255,63,196,0.02);border:1px solid rgba(255,255,255,0.02)}
.btn:active{transform:translateY(2px)}
.btn:hover{transform:translateY(-4px);box-shadow:0 18px 60px rgba(0,240,255,0.06)}
.btn.good{background:linear-gradient(90deg,var(--good),#8df3b0);box-shadow:0 10px 40px rgba(22,211,106,0.06)}
.btn.bad{background:linear-gradient(90deg,var(--bad),#ff8a94);box-shadow:0 10px 40px rgba(255,92,108,0.06)}
.meta{display:flex;justify-content:space-between;align-items:center;margin-top:12px;color:var(--muted);font-size:0.95rem}
.small-muted{color:var(--muted);font-size:0.95rem;margin-top:8px}
#final{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:linear-gradient(180deg,rgba(3,6,10,0.85),rgba(2,3,8,0.9));z-index:1200}
#final-card{background:linear-gradient(180deg,#081322,#06121f);padding:30px;border-radius:14px;box-shadow:0 20px 60px rgba(0,0,0,0.7);text-align:center;color:var(--text);max-width:580px;width:94%}
#final-text{font-size:2.2rem;font-weight:800;color:var(--accent);margin:16px 0}
.final-actions{display:flex;flex-direction:column;gap:10px;align-items:stretch;margin-top:10px}
.final-actions .btn{font-size:1rem;padding:12px 14px}
.install-hint{display:none;margin-top:8px;font-size:0.95rem;color:var(--muted);text-align:center}
.msg{position:fixed;right:16px;bottom:16px;z-index:1300;background:rgba(0,0,0,0.7);padding:10px 14px;border-radius:10px;color:#fff;font-size:0.95rem;box-shadow:0 8px 30px rgba(0,0,0,0.6);display:none}
#nick{padding:16px 18px;border-radius:12px;border:1px solid rgba(255,255,255,0.06);background:rgba(255,255,255,0.02);color:var(--text);font-weight:700;font-size:1.1rem}
</style>
</head>
<body>
<canvas id="fx"></canvas>
<div class="page">

  <!-- BANER GÓRA -->
  <div class="ad-top" id="adTop">
    <span class="ad-status">Ładowanie reklamy...</span>
    <script src="https://cdn.monetag.com/monetag.js"></script>
    <script>Monetag.displayBanner('top',10306623,'adTop');</script>
  </div>

  <!-- QUIZ -->
  <div class="card">
    <div class="top">
      <div>
        <div class="title">QuizoPolsce — Sprawdź wiedzę o Polsce</div>
        <input id="nick" placeholder="Twój nick"/>
      </div>
      <div class="score">Punkty: <span id="points">0</span></div>
    </div>

    <div id="question" class="question">Ładowanie...</div>
    <div id="answers" class="answers"></div>

    <!-- PEŁNOEKRAN PO 7 PYTANIU -->
    <div class="ad-mid" id="adMid" style="display:none;">
      <span class="ad-status">Ładowanie reklamy...</span>
      <script>function showMidAd(){Monetag.displayFullScreen(10306651);}</script>
    </div>

    <div class="meta">
      <div id="progress">Pytanie 0/0</div>
      <div class="small-muted">Reklamy gotowe</div>
    </div>
  </div>

  <!-- BANER DÓŁ -->
  <div class="ad-bottom" id="adBottom">
    <span class="ad-status">Ładowanie reklamy...</span>
    <script>Monetag.displayBanner('bottom',10306648,'adBottom');</script>
  </div>

</div>

<!-- PRZED WYNIKIEM -->
<div id="final">
  <div id="final-card">
    <h1>Twój wynik</h1>
    <div id="final-text">0 pkt</div>

    <div class="ad-final" id="adFinal">
      <span class="ad-status">Ładowanie rekl.</span>
      <script>function showFinalAd(){Monetag.displayFullScreen(10306655);}</script>
    </div>

    <div class="final-actions">
      <div class="btn" id="retryBtn">Zagraj ponownie</div>
      <div class="btn" id="shareBtn">Poleć quiz</div>
      <div class="btn" id="endBtn">Koniec</div>
    </div>
  </div>
</div>

<div class="msg" id="msgBox"></div>

<!-- AUDIO -->
<audio id="bg" loop src="sounds/background.mp3"></audio>
<audio id="snd-ding" src="sounds/ding.mp3"></audio>
<audio id="snd-buzzer" src="sounds/buzzer.mp3"></audio>
<audio id="snd-fanfare" src="sounds/fanfare.mp3"></audio>

<script>
// === QUIZ LOGIC (tak jak miałeś) ===
const $=id=>document.getElementById(id);
const qEl=$('question'), aEl=$('answers'), pEl=$('points'), prEl=$('progress'),
      finalEl=$('final'), fText=$('final-text'),
      adTop=$('adTop'), adBottom=$('adBottom'), adMid=$('adMid'), adFinal=$('adFinal');

const bg=$('bg'), ding=$('snd-ding'), buzzer=$('snd-buzzer'), fanfare=$('snd-fanfare');

const QUESTIONS=[ /* … Twoje pytania … */ ];
let points=0, current=0;
function getRandomSession(){ return QUESTIONS.map((q,i)=>({q,i})).sort(()=>Math.random()-0.5).slice(0,14).map(o=>o.i); }
let session=getRandomSession();

function playAudio(a){ a.play().catch(()=>{}); }
document.addEventListener('DOMContentLoaded',()=>playAudio(bg));
document.body.addEventListener('click',()=>playAudio(ding),{once:true});

function showQuestion(){
  if(current===7){
    adTop.style.display='none'; adBottom.style.display='none'; adMid.style.display='flex';
    showMidAd();
    qEl.textContent="Oglądaj reklamę, aby kontynuować";
    aEl.innerHTML="";
    setTimeout(()=>{ adMid.style.display='none'; current++; showQuestion(); },15000);
    return;
  }
  if(current>=session.length){
    adTop.style.display='none'; adBottom.style.display='none'; adMid.style.display='none'; adFinal.style.display='flex';
    showFinalAd();
    qEl.textContent="Oglądaj reklamę, aby zobaczyć wynik";
    aEl.innerHTML="";
    setTimeout(()=>{ adFinal.style.display='none'; finishQuiz(); },15000);
    return;
  }
  adTop.style.display='flex'; adBottom.style.display='flex'; adMid.style.display='none';
  const idx=session[current], q=QUESTIONS[idx];
  qEl.textContent=q.q; aEl.innerHTML='';
  q.a.map((ans,i)=>({ans,i})).sort(()=>Math.random()-0.5)
    .forEach(obj=>{ const b=document.createElement('div'); b.className='btn'; b.textContent=obj.ans;
      b.onclick=()=>answer(obj.i,b,idx); aEl.appendChild(b); });
  prEl.textContent=`Pytanie ${current+1}/${session.length}`;
}

function answer(i,btn,qIdx){
  if(i===QUESTIONS[qIdx].correct){ btn.classList.add('good'); points++; ding.play(); }
  else { btn.classList.add('bad'); buzzer.play(); }
  pEl.textContent=points; current++;
  setTimeout(showQuestion,400);
}

function finishQuiz(){ fText.textContent=`${points} pkt`; finalEl.style.display='flex'; fanfare.play(); }

$('retryBtn').onclick=()=>{ points=0; current=0; session=getRandomSession(); finalEl.style.display='none'; showQuestion(); };
$('shareBtn').onclick=()=>{navigator.clipboard.writeText(location.href);}
$('endBtn').onclick=()=>{ finalEl.style.display='none'; };

showQuestion();
</script>

</body>
</html>
