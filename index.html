<!doctype html>
<html lang="pl">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>QuizoPolsce — Sprawdź wiedzę o Polsce</title>
<meta name="theme-color" content="#051028">
<style>
:root{
  --bg1:#071025; --card:#0b1220; --text:#e6f7ff; --muted:#9fb6d6;
  --neon1:#00f0ff; --neon2:#ff3fc4; --good:#16d36a; --bad:#ff5c6c;
  --accent:#ffd27a; --radius:14px;
}
*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:Inter,system-ui,Roboto,Arial}
body{
  background:linear-gradient(180deg,var(--bg1),#051028 80%);
  color:var(--text); display:flex;align-items:center;justify-content:center;padding:20px;
}
.page{width:100%;max-width:920px}
.ad-top{
  background:#000;color:white;display:flex;align-items:center;justify-content:center;
  margin-bottom:12px;border-radius:12px;padding:8px;height:120px;position:relative;
}
.ad-status{
  position:absolute;top:4px;right:8px;font-size:.8rem;color:#ffd27a;
}
.card{
  background:linear-gradient(180deg,rgba(255,255,255,.02),rgba(255,255,255,.01));
  border-radius:var(--radius);padding:22px;
  box-shadow:0 10px 40px rgba(0,0,0,.6);
}
.top{display:flex;justify-content:space-between;gap:12px;margin-bottom:14px}
.title{font-weight:800;color:var(--neon1)}
.question{font-size:1.4rem;text-align:center;margin:10px 0}
.answers{display:grid;grid-template-columns:1fr 1fr;gap:10px}
@media(max-width:700px){.answers{grid-template-columns:1fr}}
.btn{
  padding:12px;border-radius:12px;cursor:pointer;font-weight:800;
  display:flex;align-items:center;justify-content:center;
  background:linear-gradient(90deg,var(--neon1),var(--neon2));
}
.btn.good{background:linear-gradient(90deg,var(--good),#8df3b0)}
.btn.bad{background:linear-gradient(90deg,var(--bad),#ff8a94)}
.meta{display:flex;justify-content:space-between;margin-top:12px;color:var(--muted)}
#final{
  position:fixed;inset:0;display:none;align-items:center;justify-content:center;
  background:rgba(0,0,0,.85);z-index:1200
}
#final-card{
  background:#081322;padding:30px;border-radius:14px;
  max-width:580px;width:94%;text-align:center
}
canvas{position:fixed;inset:0;pointer-events:none;z-index:1100}
</style>
</head>
<body>

<canvas id="fx"></canvas>

<div class="page">
  <div class="ad-top" id="adTop">
    <span class="ad-status">Reklama</span>
  </div>

  <div class="card">
    <div class="top">
      <div class="title">QuizoPolsce — Sprawdź wiedzę o Polsce</div>
      <div>Punkty: <span id="points">0</span></div>
    </div>

    <div id="question" class="question"></div>
    <div id="answers" class="answers"></div>

    <div class="meta">
      <div id="progress"></div>
    </div>
  </div>
</div>

<div id="final">
  <div id="final-card">
    <h1>Twój wynik</h1>
    <div id="final-text"></div>
    <div class="btn" id="retryBtn">Zagraj ponownie</div>
  </div>
</div>

<audio id="bg" loop src="sounds/background.mp3"></audio>
<audio id="ding" src="sounds/ding.mp3"></audio>
<audio id="buzz" src="sounds/buzzer.mp3"></audio>

<script>
const $=id=>document.getElementById(id);
const questionEl=$('question'),answersEl=$('answers'),
pointsEl=$('points'),progressEl=$('progress'),
finalEl=$('final'),finalText=$('final-text'),adTop=$('adTop');

const QUESTIONS=[
 {q:"Stolica Polski?",a:["Warszawa","Kraków","Gdańsk","Wrocław"],correct:0},
 {q:"Największy polski port morski?",a:["Gdańsk","Gdynia","Szczecin","Świnoujście"],correct:0},
 {q:"Największe miasto na południu Polski?",a:["Kraków","Wrocław","Katowice","Łódź"],correct:0},
 {q:"Polska jest członkiem NATO od?",a:["1999","2004","1990","2001"],correct:0},
 {q:"Polski skoczek z medalami olimpijskimi?",a:["Adam Małysz","Kamil Stoch","Piotr Żyła","Andrzej Stękała"],correct:0},
 {q:"Największe miasto woj. mazowieckiego?",a:["Warszawa","Radom","Płock","Siedlce"],correct:0},
 {q:"Polski noblista z chemii?",a:["Maria Skłodowska-Curie","Jan Czochralski","Michał Kalecki","Stefan Banach"],correct:0},
 {q:"Najdłuższa rzeka w Polsce?",a:["Wisła","Odra","Warta","Bug"],correct:0},
 {q:"Najwyższy szczyt Polski?",a:["Rysy","Śnieżka","Giewont","Babia Góra"],correct:0},
 {q:"Rok odzyskania niepodległości?",a:["1918","1945","1914","1939"],correct:0},
 {q:"Polski orzeł to symbol?",a:["Godła","Flagi","Hymnu","Herbu miasta"],correct:0},
 {q:"Największe miasto Śląska?",a:["Katowice","Gliwice","Częstochowa","Bytom"],correct:0},
 {q:"Początek hymnu Polski?",a:["Jeszcze Polska nie zginęła","Mazurka Dąbrowskiego","Bogurodzicy","Roty"],correct:0},
 {q:"Król zwany Lwem Lechistanu?",a:["Kazimierz Wielki","Bolesław Chrobry","Zygmunt Stary","Władysław Jagiełło"],correct:0}
];

let points=0,current=0;
let order=[...QUESTIONS.keys()].sort(()=>Math.random()-0.5);

function showFullscreenAd(){
  const s=document.createElement('script');
  s.src='https://nap5k.com/interstitial.js';
  document.body.appendChild(s);
}

(function(){
  const s=document.createElement('script');
  s.dataset.zone='10310895';
  s.src='https://nap5k.com/tag.min.js';
  adTop.appendChild(s);
})();

function showQuestion(){
  if(current===7){
    questionEl.textContent="Krótka przerwa reklamowa";
    answersEl.innerHTML="";
    showFullscreenAd();
    setTimeout(()=>{current++;showQuestion()},15000);
    return;
  }

  if(current>=order.length){
    questionEl.textContent="Ostatnia reklama przed wynikiem";
    answersEl.innerHTML="";
    showFullscreenAd();
    setTimeout(finishQuiz,15000);
    return;
  }

  const q=QUESTIONS[order[current]];
  questionEl.textContent=q.q;
  answersEl.innerHTML="";
  q.a.map((a,i)=>({a,i})).sort(()=>Math.random()-0.5).forEach(o=>{
    const b=document.createElement('div');
    b.className='btn';
    b.textContent=o.a;
    b.onclick=()=>{
      if(o.i===q.correct){b.classList.add('good');points++}
      else b.classList.add('bad');
      pointsEl.textContent=points;
      current++;
      setTimeout(showQuestion,400);
    };
    answersEl.appendChild(b);
  });
  progressEl.textContent=`Pytanie ${current+1}/${order.length}`;
}

function finishQuiz(){
  finalText.textContent=points+" pkt";
  finalEl.style.display='flex';
}

$('retryBtn').onclick=()=>{
  points=0;current=0;
  order=[...QUESTIONS.keys()].sort(()=>Math.random()-0.5);
  finalEl.style.display='none';
  showQuestion();
};

showQuestion();
</script>
</body>
</html>
