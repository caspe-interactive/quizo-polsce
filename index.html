<!doctype html>
<html lang="pl">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <title>QuizoPolsce 2026</title>
    
    <!-- MONETAG MULTITAG -->
    <script>(function(s){s.dataset.zone='10310917',s.src='nap5k.com'})([document.documentElement, document.body].filter(Boolean).pop().appendChild(document.createElement('script')))</script>

    <style>
        :root{
            --bg1:#050a14; 
            --card:#0b1220; 
            --neon1:#00f0ff; 
            --neon2:#ff3fc4; 
            --text:#ffffff; 
            --radius:15px;
        }
        *{box-sizing:border-box}
        html,body{height:100%;margin:0;font-family:'Segoe UI', Roboto, sans-serif; background:var(--bg1); color:var(--text); overflow:hidden;}
        body{display:flex;align-items:center;justify-content:center;padding:15px;}
        #fx { position:fixed; top:0; left:0; width:100%; height:100%; pointer-events:none; z-index:1; }
        
        .page{width:100%; max-width:480px; position:relative; z-index:1000;}
        
        .card{
            background: var(--card); 
            border-radius: var(--radius); 
            padding: 25px;
            box-shadow: 0 0 30px rgba(0,0,0,1); 
            border: 2px solid #1a2a4a;
            text-align: center;
        }

        .banner-area { 
            min-height: 80px; margin-bottom: 20px; 
            background: #000; border-radius: 10px; overflow: hidden;
            border: 1px solid #1a2a4a;
        }

        .title{font-weight:900; color:var(--neon1); margin-bottom:10px; font-size:1rem; text-transform:uppercase; letter-spacing:2px; text-shadow: 0 0 10px var(--neon1);}
        .question{font-size:1.3rem; margin-bottom:25px; min-height:60px; font-weight:700; line-height:1.3; color:#fff;}
        
        .answers{display:grid; grid-template-columns:1fr; gap:15px;}
        
        /* SOLIDNE PRZYCISKI NEONOWE */
        .btn{
            padding:16px; 
            border-radius:12px; 
            cursor:pointer; 
            text-align:center;
            font-weight:800; 
            font-size:1.05rem;
            width:100%;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: 0.2s all ease;
            
            /* Solidne tło i neonowa ramka */
            background: #0b1220; 
            color: var(--neon1);
            border: 2px solid var(--neon1);
            box-shadow: 0 0 10px rgba(0, 240, 255, 0.2);
        }

        .btn:hover {
            background: var(--neon1);
            color: #000;
            box-shadow: 0 0 25px var(--neon1);
            transform: scale(1.02);
        }

        /* Przycisk akcji (np. Kontynuuj/Graj ponownie) w innym kolorze */
        .btn-alt {
            border-color: var(--neon2);
            color: var(--neon2);
            box-shadow: 0 0 10px rgba(255, 63, 196, 0.2);
        }
        
        .btn-alt:hover {
            background: var(--neon2);
            color: #000;
            box-shadow: 0 0 25px var(--neon2);
        }

        .btn:active{ transform: scale(0.95); }

        .hidden{display:none !important;}
        .progress-container{width:100%; height:10px; background:#000; border-radius:5px; margin-bottom:20px; border: 1px solid #1a2a4a;}
        .progress-fill{height:100%; background: linear-gradient(90deg, var(--neon1), var(--neon2)); width:0%; transition:0.4s; box-shadow: 0 0 15px var(--neon1);}
    </style>
</head>
<body>

<canvas id="fx"></canvas>

<!-- AUDIO -->
<audio id="snd-ding" src="sounds/ding.mp3"></audio>
<audio id="snd-buzzer" src="sounds/buzzer.mp3"></audio>
<audio id="snd-fanfare" src="sounds/fanfare.mp3"></audio>
<audio id="bg-music" loop src="sounds/background.mp3"></audio>

<div class="page">
    <!-- EKRAN QUIZU -->
    <div class="card" id="quizView">
        <div class="banner-area">
            <!-- BANER IN-PAGE PUSH -->
            <script src="quge5.com" data-zone="193728" async data-cfasync="false"></script>
        </div>
        <div class="title">QuizoPolsce 2026</div>
        <div class="progress-container"><div class="progress-fill" id="bar"></div></div>
        <div id="q-num" style="font-size:0.85rem; color:var(--neon1); margin-bottom:8px; font-weight: bold;">Pytanie 1/14</div>
        <div class="question" id="q-text">Ładowanie quizu...</div>
        <div id="ans-box" class="answers"></div>
    </div>

    <!-- EKRAN PRZERWY -->
    <div class="card hidden" id="adView">
        <h2 style="color:var(--neon2); margin-top:0; text-shadow: 0 0 10px var(--neon2);">PRZERWA</h2>
        <p style="color:#aaa; font-size:0.9rem; margin-bottom: 25px;">Reklama wspiera darmowy dostęp do gry.</p>
        <div style="height:100px; display:flex; align-items:center; justify-content:center; border:1px dashed var(--neon2); border-radius:10px; margin-bottom:25px; background:rgba(255, 63, 196, 0.05);">
            <span style="color:var(--neon2); font-weight:bold; letter-spacing: 1px;">VIGNETTE AD TRIGGER</span>
        </div>
        <button class="btn btn-alt" id="ad-btn">KONTYNUUJ GRĘ</button>
    </div>

    <!-- EKRAN WYNIKU -->
    <div class="card hidden" id="resultView">
        <h1 style="color:var(--neon1); margin:0; text-shadow: 0 0 15px var(--neon1); font-size: 2.5rem;">KONIEC!</h1>
        <p style="color:#aaa; margin-top: 10px;">Twój ostateczny wynik:</p>
        <div id="score-text" style="font-size:4rem; font-weight:900; color:#fff; margin:15px 0; text-shadow: 0 0 20px var(--neon1);">0/14</div>
        <button class="btn" onclick="location.reload()">ZAGRAJ PONOWNIE</button>
    </div>
</div>

<script>
    // --- CZĄSTECZKI TŁA ---
    const canvas = document.getElementById('fx'), ctx = canvas.getContext('2d');
    let particles = [];
    function resize() { canvas.width = window.innerWidth; canvas.height = window.innerHeight; }
    window.onresize = resize; resize();
    class Particle {
        constructor(x, y, color) {
            this.x = x; this.y = y; this.color = color;
            const angle = Math.random() * Math.PI * 2, speed = Math.random() * 6 + 2;
            this.v = { x: Math.cos(angle) * speed, y: Math.sin(angle) * speed };
            this.a = 1; this.gravity = 0.15;
        }
        draw() { ctx.save(); ctx.globalAlpha = this.a; ctx.beginPath(); ctx.arc(this.x, this.y, 2.5, 0, Math.PI * 2); ctx.fillStyle = this.color; ctx.fill(); ctx.restore(); }
        update() { this.v.y += this.gravity; this.x += this.v.x; this.y += this.v.y; this.a -= 0.012; }
    }
    function explode() {
        const x = Math.random() * canvas.width, y = Math.random() * (canvas.height * 0.4) + 100, col = `hsl(${Math.random() * 360}, 100%, 60%)`;
        for(let i=0; i<60; i++) particles.push(new Particle(x, y, col));
    }
    function animate() {
        ctx.fillStyle = 'rgba(5, 10, 20, 0.4)'; ctx.fillRect(0, 0, canvas.width, canvas.height);
        particles.forEach((p, i) => { if(p.a > 0){ p.update(); p.draw(); } else { particles.splice(i, 1); }});
        requestAnimationFrame(animate);
    }
    animate();

    // --- LOGIKA GRY ---
    const QUESTIONS = [
        {q:"Stolica Polski?", a:["Kraków","Warszawa","Gdańsk","Wrocław"], c:1},
        {q:"Najdłuższa rzeka?", a:["Odra","Warta","Wisła","Bug"], c:2},
        {q:"Chrzest Polski?", a:["966","1000","1410","1918"], c:0},
        {q:"Najwyższy szczyt?", a:["Giewont","Śnieżka","Rysy","Kasprowy"], c:2},
        {q:"Miasto pierników?", a:["Toruń","Lublin","Płock","Kielce"], c:0},
        {q:"Ile województw?", a:["12","14","16","18"], c:2},
        {q:"Ptak w godle?", a:["Bocian","Orzeł","Jastrząb","Sokół"], c:1},
        {q:"Największe jezioro?", a:["Mamry","Hańcza","Śniardwy","Wigry"], c:2},
        {q:"Dłuższa granica z?", a:["Niemcami","Rosją","Czechami","Białorusią"], c:2},
        {q:"Autor 'Pana Tadeusza'?", a:["Prus","Mickiewicz","Słowacki","Reymont"], c:1},
        {q:"Waluta Polski?", a:["Euro","Dolar","Złoty","Funt"], c:2},
        {q:"Flaga Polski?", a:["Biało-Niebieska","Biało-Czerwona","Czerwono-Biała","Złota"], c:1},
        {q:"Polska w UE od?", a:["1999","2004","2010","1989"], c:1},
        {q:"Zamek na Wawelu jest w?", a:["Warszawie","Krakowie","Poznaniu","Lublinie"], c:1}
    ];

    let cur = 0, pts = 0, musicStarted = false;
    const ding = document.getElementById("snd-ding"), buzzer = document.getElementById("snd-buzzer"), 
          fanfare = document.getElementById("snd-fanfare"), bgMusic = document.getElementById("bg-music");

    function render() {
        if (cur === 7 && !document.body.dataset.ad7) { showAdScreen('ad7'); return; }
        if (cur === 14 && !document.body.dataset.adFinal) { showAdScreen('adFinal'); return; }
        if (cur === 14) { showResults(); return; }

        document.getElementById("quizView").classList.remove("hidden");
        document.getElementById("adView").classList.add("hidden");

        document.getElementById("bar").style.width = (cur/14*100) + "%";
        document.getElementById("q-num").innerText = `Pytanie ${cur+1}/14`;
        document.getElementById("q-text").innerText = QUESTIONS[cur].q;
        
        const box = document.getElementById("ans-box");
        box.innerHTML = "";
        QUESTIONS[cur].a.forEach((txt, i) => {
            const b = document.createElement("button");
            b.className = "btn";
            b.innerText = txt;
            b.onclick = () => {
                if(!musicStarted) { try{ bgMusic.volume=0.2; bgMusic.play(); }catch(e){} musicStarted=true; }
                if(i === QUESTIONS[cur].c) { pts++; ding.play(); explode(); } 
                else { buzzer.play(); }
                cur++; setTimeout(render, 400);
            };
            box.appendChild(b);
        });
    }

    function showAdScreen(tag) {
        document.getElementById("quizView").classList.add("hidden");
        document.getElementById("adView").classList.remove("hidden");
        try{ bgMusic.pause(); }catch(e){}
        document.getElementById("ad-btn").onclick = () => {
            document.body.dataset[tag] = "true";
            if(musicStarted) bgMusic.play();
            render();
        };
    }

    function showResults() {
        document.getElementById("quizView").classList.add("hidden");
        document.getElementById("adView").classList.add("hidden");
        document.getElementById("resultView").classList.remove("hidden");
        document.getElementById("score-text").innerText = pts + "/14";
        fanfare.play();
        for(let i=0; i<20; i++) setTimeout(explode, i*250);
    }

    render();
</script>
</body>
</html>
