<!doctype html>
<html lang="pl">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>QuizoPolsce</title>

<style>
body{
  margin:0;
  font-family:system-ui;
  background:#071025;
  color:#fff;
  padding-top:70px;
}
#ad-top{
  position:fixed;
  top:0; left:0;
  width:100%;
  height:70px;
  background:#000;
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:100;
}
.ad-box{
  width:100%;
  display:flex;
  justify-content:center;
  margin:20px 0;
}
.page{
  max-width:520px;
  margin:auto;
  padding:12px;
}
.card{
  background:#0b1220;
  border-radius:14px;
  padding:30px;
}
.answers{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:15px;
  margin-top:20px;
}
@media(max-width:500px){.answers{grid-template-columns:1fr}}
.btn{
  padding:18px;
  border-radius:12px;
  background:linear-gradient(90deg,#00f0ff,#ff3fc4);
  font-weight:700;
  text-align:center;
  font-size:1.1rem;
  cursor:pointer;
  user-select:none;
}
.btn.good{background:linear-gradient(90deg,#16d36a,#8df3b0)}
.btn.bad{background:linear-gradient(90deg,#ff5c6c,#ff8a94)}
#start,#final{
  position:fixed; inset:0;
  background:#020814ee;
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:200;
}
#final{display:none}
.box{
  background:#081322;
  padding:40px;
  border-radius:14px;
  width:90%;
  max-width:400px;
  text-align:center;
}
.box h2{
  font-size:2rem;
  margin-bottom:20px;
}
input{
  width:100%;
  padding:16px;
  border-radius:12px;
  border:2px solid #00f0ff;
  background:#000;
  color:#fff;
  margin-bottom:16px;
  font-size:1rem;
}
#q{
  font-size:1.3rem;
  font-weight:600;
  margin-bottom:10px;
}
#prog{
  margin-top:10px;
  color:#9fb6d6;
  font-size:0.9rem;
}
#finalScore{
  font-size:2rem;
  color:#ffd27a;
  margin:20px 0;
}
</style>
</head>
<body>

<!-- ðŸ” BANER GÃ“RA -->
<div id="ad-top"></div>

<!-- START -->
<div id="start">
  <div class="box">
    <h2>QuizoPolsce</h2>
    <input id="nick" placeholder="TwÃ³j nick">
    <div class="btn" onclick="startGame()">START</div>
  </div>
</div>

<!-- QUIZ -->
<div class="page">
  <div class="card">
    <div id="q"></div>
    <div id="a" class="answers"></div>
    <div id="prog"></div>

    <!-- ðŸ“¢ PO 7 PYTANIU -->
    <div id="ad-mid" class="ad-box" style="display:none"></div>
  </div>
</div>

<!-- KONIEC -->
<div id="final">
  <div class="box">
    <h2>KONIEC</h2>
    <div id="finalScore"></div>

    <!-- ðŸ“¢ PRZED WYNIKIEM -->
    <div id="ad-end" class="ad-box"></div>

    <div class="btn" onclick="location.reload()">Zagraj ponownie</div><br>
    <div class="btn" onclick="share()">PoleÄ‡ znajomemu</div><br>
    <div class="btn" onclick="addHome()">Zapisz na ekranie</div>
  </div>
</div>

<!-- AUDIO -->
<audio id="bg" src="sounds/background.mp3" loop></audio>
<audio id="ok" src="sounds/ding.mp3"></audio>
<audio id="bad" src="sounds/buzzer.mp3"></audio>

<script>
// konfiguracja reklam Render + Gizokraijaw
function loadAds(){
  const top=document.getElementById('ad-top');
  const mid=document.getElementById('ad-mid');
  const end=document.getElementById('ad-end');

  top.innerHTML='<script src="https://gizokraijaw.net/banner.js" data-zone="10552577"><\/script>';
  mid.innerHTML='<script src="https://gizokraijaw.net/banner.js" data-zone="10552582"><\/script>';
  end.innerHTML='<script src="https://gizokraijaw.net/banner.js" data-zone="10552577"><\/script>';
}
loadAds();

// pytania quizu
const Q=[
{q:"Stolica Polski?",a:["Warszawa","KrakÃ³w","GdaÅ„sk","WrocÅ‚aw"],c:0},
{q:"NajwiÄ™kszy polski port morski?",a:["GdaÅ„sk","Gdynia","Szczecin","ÅšwinoujÅ›cie"],c:0},
{q:"NajwiÄ™ksze miasto na poÅ‚udniu Polski?",a:["KrakÃ³w","WrocÅ‚aw","Katowice","ÅÃ³dÅº"],c:0},
{q:"Polska jest czÅ‚onkiem NATO od?",a:["1999","2004","1990","2001"],c:0},
{q:"Polski skoczek narciarski z medalami?",a:["Adam MaÅ‚ysz","Kamil Stoch","Piotr Å»yÅ‚a","Andrzej StÄ™kaÅ‚a"],c:1},
{q:"NajwiÄ™ksze miasto mazowieckiego?",a:["Warszawa","Radom","PÅ‚ock","Siedlce"],c:0},
{q:"Noblistka w dziedzinie chemii?",a:["Maria SkÅ‚odowska-Curie","Jan Czochralski","MichaÅ‚ Kalecki","Stefan Banach"],c:0},
{q:"NajdÅ‚uÅ¼sza rzeka w Polsce?",a:["WisÅ‚a","Odra","Warta","Bug"],c:0},
{q:"NajwyÅ¼szy szczyt w Polsce?",a:["Rysy","ÅšnieÅ¼ka","Giewont","Babia GÃ³ra"],c:0},
{q:"Rok odzyskania niepodlegÅ‚oÅ›ci?",a:["1918","1945","1914","1939"],c:0},
{q:"Polski orzeÅ‚ jest symbolem?",a:["GodÅ‚a","Flagi","Hymnu","Herbu"],c:0},
{q:"NajwiÄ™ksze miasto na ÅšlÄ…sku?",a:["Katowice","Gliwice","CzÄ™stochowa","Bytom"],c:0},
{q:"Hymn Polski to?",a:["Mazurek DÄ…browskiego","Bogurodzica","Rota","Oda do radoÅ›ci"],c:0},
{q:"KrÃ³l â€žLew Lechistanuâ€?",a:["Jan III Sobieski","WÅ‚adysÅ‚aw JagieÅ‚Å‚o","Zygmunt Stary","BolesÅ‚aw Chrobry"],c:0}
];

let i=0,pts=0,nick="Gracz",pwaPrompt=null;

function startGame(){
  nick=document.getElementById("nick").value||"Gracz";
  document.getElementById("start").style.display="none";
  const bg=document.getElementById("bg"); bg.volume=0.5; bg.play().catch(()=>{});
  show();
}

function show(){
  if(i>=Q.length){end();return;}
  const q=Q[i];
  document.getElementById("q").textContent=q.q;
  document.getElementById("a").innerHTML="";
  document.getElementById("prog").textContent=`Pytanie ${i+1}/${Q.length}`;
  if(i===6) document.getElementById("ad-mid").style.display="flex";

  q.a.map((t,idx)=>({t,idx})).sort(()=>Math.random()-0.5).forEach(o=>{
    const b=document.createElement("div");
    b.className="btn"; b.textContent=o.t;
    b.onclick=()=>{
      document.querySelectorAll(".btn").forEach(x=>x.onclick=null);
      if(o.idx===q.c){ pts++; document.getElementById("ok").play(); b.classList.add("good"); }
      else{ document.getElementById("bad").play(); b.classList.add("bad"); }
      setTimeout(()=>{i++;show()},800);
    };
    document.getElementById("a").appendChild(b);
  });
}

function end(){
  document.getElementById("finalScore").textContent=`${nick} â€” ${pts} pkt`;
  document.getElementById("final").style.display="flex";
}

window.addEventListener("beforeinstallprompt",e=>{e.preventDefault();pwaPrompt=e;});
function addHome(){pwaPrompt?pwaPrompt.prompt():alert("NiedostÄ™pne")}
function share(){navigator.share?navigator.share({title:"QuizoPolsce",url:location.href}):alert(location.href);}
</script>

</body>
</html>
