<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Quiz o Polsce</title>

<style>
*{box-sizing:border-box;margin:0;padding:0;font-family:Arial,Helvetica,sans-serif}
body{
  background:#0b0b14;
  color:#fff;
  display:flex;
  justify-content:center;
  align-items:center;
  min-height:100vh;
  overflow:hidden;
}
#app{
  width:100%;
  max-width:480px;
  padding:20px;
  text-align:center;
}
h1{margin-bottom:10px}
#progress{opacity:.7;margin-bottom:10px}
#question{font-size:20px;margin:20px 0}
#answers{display:flex;flex-direction:column;gap:12px}
.btn{
  padding:14px;
  border-radius:12px;
  background:#1b1b2b;
  border:2px solid #2b2b44;
  cursor:pointer;
  font-size:16px;
}
.btn:hover{background:#24243d}
.btn.good{background:#16d36a;color:#000}
.btn.bad{background:#ff5c6c}
#points{margin-top:10px;font-weight:bold}
#final{
  display:none;
  position:fixed;
  inset:0;
  background:#0b0b14;
  z-index:10;
  justify-content:center;
  align-items:center;
  text-align:center;
  padding:20px;
}
#finalBox{
  background:#151526;
  padding:30px;
  border-radius:20px;
  width:100%;
  max-width:420px;
}
.finalBtn{
  margin-top:12px;
  padding:14px;
  border-radius:14px;
  background:#00f0ff;
  border:none;
  cursor:pointer;
  font-size:16px;
}
canvas{
  position:fixed;
  inset:0;
  pointer-events:none;
}
</style>
</head>

<body>

<div id="app">
  <h1>Quiz o Polsce 叼</h1>
  <div id="progress"></div>
  <div id="question"></div>
  <div id="answers"></div>
  <div id="points">Punkty: 0</div>
</div>

<div id="final">
  <div id="finalBox">
    <h2>Tw贸j wynik</h2>
    <h1 id="finalScore"></h1>
    <button class="finalBtn" id="retry">Zagraj ponownie</button>
  </div>
</div>

<canvas id="fx"></canvas>

<!-- AUDIO -->
<audio id="bg" src="https://cdn.pixabay.com/audio/2022/08/02/audio_8d88b7a5b2.mp3" loop></audio>
<audio id="ding" src="https://cdn.pixabay.com/audio/2022/03/15/audio_4d9a8cfe1c.mp3"></audio>
<audio id="buzzer" src="https://cdn.pixabay.com/audio/2021/08/04/audio_10c6e9b5f1.mp3"></audio>

<script>
const QUESTIONS=[
 {q:"Stolica Polski?",a:["Warszawa","Krak贸w","Gdask","Wrocaw"],correct:0},
 {q:"Najdu偶sza rzeka w Polsce?",a:["Wisa","Odra","Warta","Bug"],correct:0},
 {q:"Najwy偶szy szczyt w Polsce?",a:["Rysy","Giewont","Babia G贸ra","nie偶ka"],correct:0},
 {q:"W kt贸rym roku Polska odzyskaa niepodlego?",a:["1918","1939","1945","1914"],correct:0},
 {q:"Polska jest w UE od?",a:["2004","1999","2001","2010"],correct:0},
 {q:"Najwiksze miasto Polski?",a:["Warszawa","Krak贸w","贸d藕","Wrocaw"],correct:0},
 {q:"Morze w Polsce to?",a:["Batyckie","Czarne","P贸nocne","r贸dziemne"],correct:0},
 {q:"Polskie barwy narodowe?",a:["Biao-czerwone","Czerwono-biae","Niebiesko-biae","Biao-niebieskie"],correct:0},
 {q:"Symbol Polski?",a:["Orze","Lew","Wilk","Ry"],correct:0},
 {q:"Najwikszy port morski?",a:["Gdask","Gdynia","Szczecin","winoujcie"],correct:0},
 {q:"Stolica Maopolski?",a:["Krak贸w","Tarn贸w","Nowy Scz","Zakopane"],correct:0},
 {q:"Polski noblista chemii?",a:["Maria Skodowska-Curie","Banach","Kopernik","Chopin"],correct:0},
 {q:"Najwiksze jezioro w Polsce?",a:["niardwy","Mamry","Hacza","Niegocin"],correct:0},
 {q:"Hymn Polski to?",a:["Mazurek Dbrowskiego","Rota","Bogurodzica","Gaude Mater"],correct:0}
];

let order=[...Array(QUESTIONS.length).keys()].sort(()=>Math.random()-0.5);
let current=0,points=0;

const qEl=document.getElementById('question');
const aEl=document.getElementById('answers');
const pEl=document.getElementById('progress');
const pts=document.getElementById('points');
const final=document.getElementById('final');
const finalScore=document.getElementById('finalScore');

const bg=document.getElementById('bg');
const ding=document.getElementById('ding');
const buzzer=document.getElementById('buzzer');

document.body.addEventListener('click',()=>bg.play().catch(()=>{}),{once:true});

function show(){
 if(current>=order.length){ end(); return; }
 const q=QUESTIONS[order[current]];
 pEl.textContent=`Pytanie ${current+1}/14`;
 qEl.textContent=q.q;
 aEl.innerHTML='';
 q.a.map((t,i)=>({t,i})).sort(()=>Math.random()-0.5).forEach(o=>{
  const b=document.createElement('div');
  b.className='btn';
  b.textContent=o.t;
  b.onclick=()=>answer(o.i,b,q.correct);
  aEl.appendChild(b);
 });
}

function answer(i,btn,c){
 if(i===c){btn.classList.add('good');ding.play();points++;firework();}
 else{btn.classList.add('bad');buzzer.play();}
 pts.textContent='Punkty: '+points;
 setTimeout(()=>{current++;show();},400);
}

function end(){
 final.style.display='flex';
 finalScore.textContent=points+' / 14';
 firework();
}

document.getElementById('retry').onclick=()=>{
 order=[...Array(QUESTIONS.length).keys()].sort(()=>Math.random()-0.5);
 current=0;points=0;
 pts.textContent='Punkty: 0';
 final.style.display='none';
 show();
};

// confetti
let run=false;
function firework(){
 if(run) return; run=true;
 const c=document.getElementById('fx'),x=c.getContext('2d');
 c.width=innerWidth;c.height=innerHeight;
 let p=[];
 for(let i=0;i<80;i++)p.push({x:c.width/2,y:c.height/2,vx:(Math.random()-0.5)*8,vy:(Math.random()-0.5)*8,a:1});
 (function anim(){
  x.clearRect(0,0,c.width,c.height);
  p.forEach(o=>{x.fillStyle=`rgba(255,255,255,${o.a})`;x.fillRect(o.x,o.y,4,4);o.x+=o.vx;o.y+=o.vy;o.a-=0.02});
  p=p.filter(o=>o.a>0);
  if(p.length)requestAnimationFrame(anim);else run=false;
 })();
}

show();
</script>

</body>
</html>
